# 10장 배포 관리와 태그

## 10.1 배포

---

## 10.2 버전

-   버전(version)은 프로그램을 수정하거나 개선할 때마다 코드를 구분하려고 부여된 식별자를 의미
-   버전업(version up)은 오래된 버전의 프로그램을 최신 버전의 코드로 변경하는 것을 의미
-   기본적인 버전은 단일 번호 하나로 구성되어 있다. 단일 번호는 프로그램에서 큰 기능을 변경했을 때 바뀐다.
    -   첫 자리가 0으로 시작하면 아직 초기 개발 중인 제품이라는 의미.
    -   정식 버전은 1부터 시작. 이를 메이저(major) 버전이라고 한다.
    -   메이저 버전을 변경하면 하위 버전과 호환성이 낮아질 수도 있다.
-   메이저 버전 다음으로 작은 코드의 변화는 점(.)을 사용하여 구분한다. 보통 두 자리 또는 세 자리 형태의 숫자로 작성한다.
    -   두 자리 : 1.0, 세 자리 : 2.1.4
    -   마이너(minor) 번호 : 두 번째 자리는 메이저 버전에서 기능을 추가하거나 변경 사항이 있을 때 바꾼다.
    -   패치(patch): 세 번째 자리는 버그 수정 등 미미한 변화가 있을 때 바꾼다.
-   이처럼 세 자리 숫자 형태로 표기하는 버전을 SemVer(Semantic Versioning) 방식이라고 한다.
-   [NOTE] 버전 용어
    -   RC(Release Candidata)
        -   Candidate는 후보자, 지원자, 가능성이 있는 사람이라는 뜻이다.
        -   즉, 정식 버전이 아닌 베타 버전을 의미. 리눅스 배포판에서 RC 표시를 확인할 수 있다.
        -   RC는 안정적인 동작을 보장하지 않는 임시 제품이라고 보면 된다.
    -   GA(Genenral Availability) : 테스트가 완료된 정식 릴리즈 버전을 의미. 안정된 버전
    -   M(Milestone) : 테스트 버전을 의미. 기능을 구현할 때마다 테스트하여 피드백을 받는 버전을 의미.

---

## 10.3 태그

-   깃은 정리된 커밋을 배포할 수 있도록 특수한 포인터를 제공하며, 특정 커밋을 가리키는 포인터로 버전을 의미한다. 그 포인터를 태그라고 한다.
-   태그는 특정 커밋의 해시 값을 가리키는 꼬리표를 의미한다.
-   특정 커밋 해시값을 가리키는 것뿐만 아니라, 꼬리표 이름과 정보도 포함한다.
-   추가 정보를 보유하는지 여부에 따라 두 가지로 구분한다.
    -   Annotated : 태그 이름 + 정보 포함
    -   Lightweight : 태그 이름만 포함

---

## 10.4 태그 목록

-   tag 명령어, 단독으로 실행할 수도 있고, 옵션을 추가할 수도 있다.
    ```
    $ git tag
    ```
    -   옵션은 -l 또는 -list 옵션을 같이 사용한다.
    ```
    $ git tag -l
    ```
-   [Note] 소스트리에서는 생성된 태그 목록을 좀 더 쉽게 확인할 수 있다. 화면 왼쪽에 태그 탭을 표시. 태그 탭을 선택해서 확장하면 생성된 모든 태그 목록을 확인할 수 있다.
-   10-1\_실습 준비.mov

---

## 10.5 Annotated 태그

-   Annotated 태그는 깃에서 가장 일반적으로 사용하는 태그 방법
    -   Annotated는 '주석이 달린'이라는 뜻

### 10.5.1 태그 생성

-   Annotated 태그를 생성할 때는 해시 값뿐 아니라 추가로 생성자 정보를 같이 넣을 수 있다.
    -   예를 들어 이메일, 날짜, 메시지 등 정보
    -   GPG 방식으로 서명으로 가능하다.
    -   tag 명령어 뒤에 -a 옵션을 사용
    ```
    $ git tag -a 버전
    ```
-   10-2\_태그 생성.mov

### 10.5.2 간단한 메시지

-   Annotated 태그를 생성할 때는 메시지를 작성해야 한다. 작성할 태그 정보가 간단하다면 vi 에디터를 사용하지 않고, -m 옵션으로 대체할 수 있다.
-   10-3\_간단한 메시지.mov

### 10.5.3 소스트리에서 태그 생성

-   10-4\_소스트리에서 태그 생성.mov

### 10.5.4 태그는 중복해서 생성할 수 없다

-   10-5\_태그는 중복해서 생성할 수 없다.mov

### 10.5.5 태그 삭제

```
$ git tag -d 태그이름
```

-   10-6\_태그 삭제.mov

### 10.5.6 태그의 상세 정보 확인 : show 명령어

-   태그의 상세 정보를 확인하려면 show 명령어를 사용
    ```
    $ git show 태그이름
    ```
-   10-7 태그의 상세 정보 확인.mov

---

## 10.6 Lightweight 태그

-   Lightweight 태그는 가장 기본적인 태그

### 10.6.1 체크섬

-   Annotated 태그에는 커밋 해시 갑솨 부가적인 정보가 같이 있는 반면 Lightweight 방식은 커밋의 체크섬만 가지고 있다.
    ```
    $ git tag 태그이름
    ```
-   10-8 lightweight 체크섬.mov

### 10.6.2 태그의 상세 정보 확인

-   Annotated 태그와 동일하게 show 명령어 사용
-   Annotated와 달리 별도의 정보가 없다.
-   10-9 lightweight 태그의 상세 정보 확인.mov

---

## 10.7 특정 커밋 태그

-   tag 명령어는 기본적으로 현재 HEAD가 가리키는 커밋을 기준으로 태그를 생성한다. 현재 HEAD 포인터가 가리키는 커밋이 아닌 특정 커밋을 직접 지정하여 태그를 생성할 수 있다.
    ```
    $ git tag -a 태그버전 커밋ID
    ```
    -   지정된 커밋 해시 값을 기준으로 새로운 태그를 생성

### 10.7.1 소스트리에서 특정 커밋 지정

-   10-11\_소스트리에서 특정 커밋 지정.mov

---

## 10.8 태그를 사용한 체크아웃

-   태그는 특정 커밋을 가리키는 포인터이다. 따라서 태그를 사용하여 특정 커밋으로 체크아웃할 수 있다. 체크아웃할 때 브랜치 대신 태그 이름을 입력하면 된다.
    ```
    $ git checkout 태그이름
    ```

### 10.8.1 태그 브랜치

-   태그를 사용하여 체크아웃할 때는 추가 커밋을 작성할 수 없다. 추가 커밋 작업이 필요하다면 태그를 기반으로 새 브랜치를 생성한다.
    ```
    $ git checkout -b 브랜치이름 태그이름
    ```
-   10-13\_태그 브랜치.mov

---

## 10.9 태그 공유

### 10.9.1 원격 저장소 생성

-   10-14\_원격 저장소 생성.mov

### 10.9.2 태그 동기화

-   태그 정보는 원격 저장소로 자동 전송되지 않으므로 직접 동기화 명령을 수행해야 한다.
-   로컬 저장소의 커밋을 원격 저장소로 전송할 때는 push 명령어를 사용한다.
    ```
    $ git push 브랜치이름
    $ git push origin master
    ```
-   태그 전송도 push 명령어를 사용한다. 브랜치 이름 대신 태그 이름을 입력한다.
    ```
    $ git push 태그이름
    $ git push origin 1.0.0
    ```
-   10-15\_태그 동기화.mov

### 10.9.3 전체 태그 동기화

```
$ git push origin --tags
```

-   10-16\_전체 태그 동기화.mov

### 10.9.4 원격 저장소의 태그 수정과 삭제

```
// 원격 저장소 태그 삭제
$ git push --delete 서버이름 태그이름

// 로컬 저장소 태그 삭제
$ git tag -d 태그이름
```

-   전송된 태그 이름을 변경하고 싶을 떄 원격 저장소의 태그와 로컬 저장소의 태그를 삭제한다. 그리고 로컬 저장소에서 새로운 태그를 생성한 후 원격 저장소로 생성된 태그를 재전송한다.
-   원격 저장소의 태그 목록을 가져올 때는 pull
-   clone 명령어를 사용해서 복제할 때 태그 정보도 같이 가져온다.

-   10-17\_태그 삭제.mov

### 10.9.5 원격 저장소에 로컬과 다른 이름으로 태그 전송

```
$ git push origin 태그이름 : 원격저장소의태그이름
```

-   10-18\_원격 저장소에 로컬과 다른 이름으로 태그 전송.mov

-   [NOTE] 태그 생성 원리
    -   깃은 태그 생성 정보를 .git/ref/tags 폴더 안에 저장한다.

---

## 10.10 정리
