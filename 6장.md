# 6장 브랜치

## 6.1 새로운 작업

### 6.1.1 브랜치 작업

커밋은 파일의 수정 이력을 관리하는 데 사용한다면, 브랜치는 프로젝트를 독립적으로 관리하는 데 사용한다.

### 6.1.2 깃 브랜치 특징

-   가상 폴더
-   독립적인 동작
-   빠른 동작
    -   깃은 Blob 개념을 도입하여 내부를 구조화한다. Blob은 포인트와 유사한 객체. 깃은 브랜치를 변경할 때 포인터를 이동하여 빠르게 전환한다.
    -   브랜치 명령을 사용하면 내부적으로 커밋을 하나 생성하여 브랜치로 할당한다. 깃은 41바이트를 가지는 해시(SHA1) 파일 하나만 만들면 된다. 따라서 브랜치를 빠르게 생성할 수 있다.

## 6.2 실습 준비

깃은 기본적으로 master 브랜치를 하나 가지고 있다. 그리고 브랜치는 HEAD 포인터를 가지고 있다.

### 6.2.2 기본 브랜치

깃은 최소한 브랜치가 1개 이상 필요하다. 따라서 저장소를 처음 초기화하면 master 브랜치가 자동으로 생성된다.

```
$ git status
현재 브랜치 master

아직 커밋이 없습니다

커밋할 사항 없음 (파일을 만들거나 복사하고 "git add"를 사용하면 추적합니다)

```

## 6.3 브랜치 생성

-   브랜치는 공통의 커밋을 가리키는 지점. 브랜치는 커밋처럼 SHA1 해시키를 가리킨다.
    하지만 커밋의 SHA1 해시키를 기억하기가 어렵기 때문에 특정 커밋을 가리키는 별칭을 만든 것이다. 이렇게 만든 별칭이 브랜치이다.
    즉 브랜치를 생성한다는 의미는 기본 브랜치 또는 커밋에 새로운 연결 고리를 하나 더 만드는 것과 같다.
-   새 브랜치를 생성하면 포인터만 있는 브랜치가 생성된다. 일반적으로 브랜치 생성 명령을 실행하면 현재 키멋을 가리키는 HEAD를 기준으로 생성된다. HEAD는 현재 마지막 커밋을 가리킨다.
-   브랜치는 마지막 커밋 위치를 가리키는 역할만 할 뿐 실제 브랜치는 아니다. 일반적으로 실제 커밋이 추가될 때 실제 커밋이 만들어진다.

### 6.3.1 브랜치 생성

```
$ git branch 브랜치이름 커밋ID
```

### 6.3.2 브랜치 이름

-   해당 브랜치 작업을 알기 쉬운 이름으로 짓는 것이 좋다. 또는 깃 플로(git flow)에서 정의한 브랜치 이름을 적용하는 것도 좋은 방법.
-   작성 규칙
    -   기호(-)로 시작할 수 없다.
    -   마침표(.)로 시작할 수 없다.
    -   연속적인 마침표(..)를 포함할 수 없다.
    -   빈칸, 공백 문자, 물결(~), 캐럿(^), 물음표(?), 별표(\*), 대괄호([]) 등은 포함할 수 없다.
    -   아스키 제어 문자 포함할 수 없다.

### 6.3.3 소스트리 브랜치

## 6.4 브랜치 확인

### 6.4.1 간단 브랜치 목록

branch 명령어는 단독으로 사용할 수 있다.

```
$ git branch
```

별표(\*)는 현재 선택된 브랜치를 의미한다. 소스트리 목록에서는 ○ 마크로 현재 브랜치 표시

### 6.4.2 브랜치 해시

브랜치는 특정한 커밋의 해시 값(SHA1)을 가리킨다. 깃의 저수준 명령어인 rev-parse를 사용하면 현재 브랜치가 어떤 커밋 해시 값(SHA1)을 가리키는지 확인할 수 있다.

```
$ git rev-parse 브랜치이름
```

### 6.4.3 브랜치 세부사항 확인

-v 또는 -verbose(뜻 : 말 수가 많은) 옵션을 함께 사용하면 브랜치 이름, 커밋 ID, 커밋 메시지를 같이 볼 수 있다.

```
$ git branch -v
```

## 6.5 브랜치 이동

## 6.6 브랜치 공간

## 6.7 HEAD 포인터

## 6.8 생성과 이동

## 6.9 원격 브랜치

## 6.10 브랜치 전송

## 6.11 브랜치 삭제

## 6.12 정리
